[{"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/index.tsx":"1","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/reportWebVitals.ts":"2","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/App.tsx":"3","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/server.ts":"4","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/routes/user.ts":"5","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/routes/diary.ts":"6","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/store.ts":"7","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/rootReducer.ts":"8","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/authSlice.ts":"9","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/diary/diariesSlice.ts":"10","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/entry/entriesSclice.ts":"11","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/entry/editorSlice.ts":"12","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/useSlice.ts":"13","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/Auth.tsx":"14","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/api.ts":"15","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/util.ts":"16","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/home/Home.tsx":"17"},{"size":791,"mtime":1611856471169,"results":"18","hashOfConfig":"19"},{"size":425,"mtime":1611406622036,"results":"20","hashOfConfig":"19"},{"size":705,"mtime":1611857440131,"results":"21","hashOfConfig":"19"},{"size":1705,"mtime":1611479228209,"results":"22","hashOfConfig":"19"},{"size":1288,"mtime":1611478310298,"results":"23","hashOfConfig":"19"},{"size":3308,"mtime":1611478920780,"results":"24","hashOfConfig":"19"},{"size":326,"mtime":1611686495749,"results":"25","hashOfConfig":"19"},{"size":633,"mtime":1611686161984,"results":"26","hashOfConfig":"19"},{"size":769,"mtime":1611685520499,"results":"27","hashOfConfig":"19"},{"size":889,"mtime":1611685115125,"results":"28","hashOfConfig":"19"},{"size":739,"mtime":1611686871404,"results":"29","hashOfConfig":"19"},{"size":972,"mtime":1611685578399,"results":"30","hashOfConfig":"19"},{"size":441,"mtime":1611683554790,"results":"31","hashOfConfig":"19"},{"size":3073,"mtime":1611860596181,"results":"32","hashOfConfig":"19"},{"size":1013,"mtime":1611685550947,"results":"33","hashOfConfig":"19"},{"size":626,"mtime":1611681129896,"results":"34","hashOfConfig":"19"},{"size":150,"mtime":1611859755602,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1i1yccy",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/index.tsx",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/reportWebVitals.ts",[],["74","75"],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/App.tsx",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/server.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/routes/user.ts",["76"],"import { Response, Request } from \"miragejs\";\nimport { handleError } from \"../server\";\nimport { User } from \"../../../interfaces/user.interface\";\nimport { randomBytes } from \"crypto\";\n\n\nconst generateToken = () => randomBytes(8).toString(\"hex\");\n\nexport interface AuthResponse {\n    token: string;\n    user: User;\n}\n\nconst login = (schema: any, req: Request): AuthResponse | Response => {\n    const { username, password } = JSON.parse(req.requestBody);\n    const user = schema.users.findBy({ username });\n    if (!user) {\n        return handleError(null, \"No user With that username exists\");\n    }\n    if (password !== user.password) {\n        return handleError(null, \"Password is incorrect\");\n    }\n    const token = generateToken();\n    return {\n        user: user.attrs as User,\n        token,\n    }\n};\n\n\nconst signup = (schema: any, req: Request): AuthResponse | Response => {\n    const data = JSON.parse(req.requestBody);\n    const exUser = schema.users.findBy({ usrname: data.username })\n    if (exUser) {\n        return handleError(null, \"A user with that username already exisist\");\n    }\n    const user = schema.users.create(data);\n    const token = generateToken();\n\n    return {\n        user: user.attrs as User,\n        token\n    }\n}\nexport default {\n    login,\n    signup\n}","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/mirage/routes/diary.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/store.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/rootReducer.ts",["77"],"import { combineReducers } from '@reduxjs/toolkit';\nimport authReducer from './features/auth/authSlice';\nimport userReducer from './features/auth/useSlice';\nimport diariesReducer from './features/diary/diariesSlice';\nimport entriesReducer from './features/entry/entriesSclice';\nimport editorReducer from './features/entry/editorSlice';\nimport { TypeOfTag } from 'typescript';\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n    diaries: diariesReducer,\n    entries: entriesReducer,\n    user: userReducer,\n    editor: editorReducer\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport default rootReducer;","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/authSlice.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/diary/diariesSlice.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/entry/entriesSclice.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/entry/editorSlice.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/useSlice.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/auth/Auth.tsx",["78"],"import React, { FC, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { User } from \"../../interfaces/user.interface\";\nimport * as Yup from \"yup\";\nimport http from \"../../services/api\";\nimport { saveToken, setAuthState } from \"./authSlice\";\nimport { setUser } from \"./useSlice\";\nimport { AuthResponse } from \"../../services/mirage/routes/user\";\nimport { useAppDispatch } from \"../../store\";\n\nconst schema = Yup.object().shape({\n  username: Yup.string()\n    .required(\"what? No Username\")\n    .max(16, \"Username Cannot br longer than 16 characters\"),\n  password: Yup.string().required('without a password, \"None Shall Pass!\"'),\n  email: Yup.string().email(\"please provide a valid email address (abc@xy.z)\"),\n});\n\nconst Auth: FC = () => {\n  const { handleSubmit, register, errors } = useForm<User>({\n    // validationSchema: schema | null,\n  });\n  const [isLogin, setIsLogin] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useAppDispatch();\n\n  const submitForm = (data: User) => {\n    const path = isLogin ? \"/auth/login\" : \"/auth/signup\";\n    http\n      .post<User, AuthResponse>(path, data)\n      .then((res) => {\n        if (res) {\n          const { user, token } = res;\n          dispatch(saveToken(token));\n          dispatch(setUser(user));\n          dispatch(setAuthState(true));\n        }\n      })\n      .catch((error) => {\n        console.log(\"ERROR\", error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n  return (\n    <div className=\"auth\">\n      <div className=\"card\">\n        <form onSubmit={handleSubmit(submitForm)}>\n          <div className=\"inputWrapper\">\n            <input ref={register} name=\"username\" placeholder=\"Username\" />\n            {errors && errors.username && (\n              <p className=\"error\">{errors.username.message}</p>\n            )}\n          </div>\n          <div className=\"inputWrapper\">\n            <input\n              ref={register}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n            {errors && errors.password && (\n              <p className=\"error\">{errors.password.message}</p>\n            )}\n          </div>\n          {!isLogin && (\n            <div className=\"inputWrapper\">\n              <input\n                ref={register}\n                name=\"email\"\n                placeholder=\"Email (optional)\"\n              />\n              {errors && errors.email && (\n                <p className=\"error\">{errors.email.message}</p>\n              )}\n            </div>\n          )}\n          <div className=\"inputWrapper\">\n            <button type=\"submit\" disabled={loading}>\n              {isLogin ? \"Login\" : \"Create account\"}\n            </button>\n          </div>\n          <p\n            onClick={() => setIsLogin(!isLogin)}\n            style={{ cursor: \"pointer\", opacity: 0.7 }}\n          >\n            {isLogin ? \"No account? Create one\" : \"Already have an account?\"}\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/services/api.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/util.ts",[],"/home/faizan/Desktop/BootCamp/project-diary/diaries-app/src/features/home/Home.tsx",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":45,"column":1,"nodeType":"85","endLine":48,"endColumn":2},{"ruleId":"86","severity":1,"message":"87","line":7,"column":10,"nodeType":"88","messageId":"89","endLine":7,"endColumn":19},{"ruleId":"86","severity":1,"message":"90","line":11,"column":7,"nodeType":"88","messageId":"89","endLine":11,"endColumn":13},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","@typescript-eslint/no-unused-vars","'TypeOfTag' is defined but never used.","Identifier","unusedVar","'schema' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]